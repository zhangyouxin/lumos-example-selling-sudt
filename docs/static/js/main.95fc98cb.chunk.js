(this["webpackJsonplumos-selling-example"]=this["webpackJsonplumos-selling-example"]||[]).push([[0],{13:function(e){e.exports=JSON.parse('{"PREFIX":"ckt","SCRIPTS":{"SECP256K1_BLAKE160":{"CODE_HASH":"0x9bd7e06f3ecf4be0f2fcd2188b23f1b9fcc88e5d4b65a8637b17723bbda3cce8","HASH_TYPE":"type","TX_HASH":"0xf8de3bb47d055cdf460d93a2a6e1b05f7432f9777c8c474abf4eec1d4aee5d37","INDEX":"0x0","DEP_TYPE":"dep_group","SHORT_ID":0},"SECP256K1_BLAKE160_MULTISIG":{"CODE_HASH":"0x5c5069eb0857efc65e1bca0c07df34c31663b3622fd3876c876320fc9634e2a8","HASH_TYPE":"type","TX_HASH":"0xf8de3bb47d055cdf460d93a2a6e1b05f7432f9777c8c474abf4eec1d4aee5d37","INDEX":"0x1","DEP_TYPE":"dep_group","SHORT_ID":1},"DAO":{"CODE_HASH":"0x82d76d1b75fe2fd9a27dfbaa65a039221a380d76c926f378d3f81cf3e7e13f2e","HASH_TYPE":"type","TX_HASH":"0x8f8c79eb6671709633fe6a46de93c0fedc9c1b8a6527a18d3983879542635c9f","INDEX":"0x2","DEP_TYPE":"code"},"SUDT":{"CODE_HASH":"0xc5e5dcf215925f7ef4dfaf5f4b4f105bc321c02776d6e7d52a1db3fcd9d011a4","HASH_TYPE":"type","TX_HASH":"0xe12877ebd2c3c364dc46c5c992bcfaf4fee33fa13eebdf82c591fc9825aab769","INDEX":"0x0","DEP_TYPE":"code"},"ANYONE_CAN_PAY":{"CODE_HASH":"0x3419a1c09eb2567f6552ee7a8ecffd64155cffe0f1796e6e61ec088d740c1356","HASH_TYPE":"type","TX_HASH":"0xec26b0f85ed839ece5f11c4c4e837ec359f5adc4420410f6453b1f6b60fb96a6","INDEX":"0x0","DEP_TYPE":"dep_group"},"SELLING_LOCK":{"CODE_HASH":"0x2d426b91c030f4b38e44898f8bcf00088e2fb4d6c1217801f784a7bee8cb57b2","HASH_TYPE":"data","TX_HASH":"0xb0d883a7ad457324396dd68befba5cd8af5b8722f1f6b0a7cd8347bafaff1956","INDEX":"0x0","DEP_TYPE":"code"}}}')},41:function(e,t,c){},84:function(e,t,c){"use strict";c.r(t);var a=c(3),r=c.n(a),n=c(35),s=c.n(n),i=(c(41),c(4)),l=c(1),b=c.n(l),d=c(2),o=c(13).SCRIPTS.SUDT;function u(e,t){return f.apply(this,arguments)}function f(){return(f=Object(d.a)(b.a.mark((function e(t,c){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return","0x12345");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e,t){return g.apply(this,arguments)}function g(){return(g=Object(d.a)(b.a.mark((function e(t,c){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return","0x12345");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){return(p=Object(d.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[{seller:"ckt1qyqxn59qn8xx4zd8p6mu4xtf4lz94zf2vfwsjaffax",sudt:{code_hash:o.CODE_HASH,hash_type:o.HASH_TYPE,args:"0x"},amount:"0x02",sellPrice:"0x01",selling:{tx_hash:"b0d883a7ad457324396dd68befba5cd8af5b8722f1f6b0a7cd8347bafaff1956",index:"0x00"}}],e.abrupt("return",Promise.resolve(t));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var j=c(14),h=c(0),y=c(13);function m(e){var t=Object(a.useState)([]),c=Object(i.a)(t,2),r=c[0],n=c[1],s=Object(a.useState)(""),l=Object(i.a)(s,2),o=l[0],u=l[1];Object(a.useEffect)((function(){f()}),[]);var f=function(){(function(){return p.apply(this,arguments)})().then((function(e){n(e)}))},g=function(){var t=Object(d.a)(b.a.mark((function t(c){var a,r,n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.privKey){t.next=4;break}u("Please fill in buyer privKey first."),t.next=10;break;case 4:return a=Object(j.generateSecp256k1Blake160Address)(e.privKey,{config:y}),r={selling:c.selling,sellPrice:c.sellPrice,buyer:a},t.next=8,x(r,e.privKey);case 8:n=t.sent,u("Buy success! buyer is ".concat(a,", tx hash is: ").concat(n));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(h.jsxs)("div",{className:"",children:[Object(h.jsx)("p",{className:"h-16 text-3xl flex flex-row justify-center text-gray-200 items-center bg-green-900 bg-opacity-90",children:"List Selling Locks"}),Object(h.jsxs)("div",{className:"bg-green-900 bg-opacity-90 p-2",children:["buyer private key: ",Object(h.jsx)("input",{className:"inline-block w-96 bg-gray-900 bg-opacity-40 text-gray-300",value:e.privKey,onChange:function(t){return e.setPrivKey(t.target.value)}}),Object(h.jsx)("button",{className:"ml-4 button hover:bg-gray-700 hover:text-gray-200 border-2 border-solid border-gray-800 px-2 rounded-md mt-2",onClick:function(){return f()},children:" \u5237\u65b0 "})]}),Object(h.jsx)("div",{className:"flex flex-row flex-wrap justify-between bg-green-700 bg-opacity-90",style:{minHeight:"12rem"},children:r.map((function(e,t){return Object(h.jsxs)("div",{className:"h-48 w-132 m-8 rounded-md shadow-lg border-2 border-solid border-gray-800 p-4",children:[Object(h.jsxs)("div",{className:"name",children:["\u5356\u5bb6\uff1a",e.seller]}),Object(h.jsxs)("div",{className:"truncate",children:["sudt\uff1a",e.sudt.code_hash]}),Object(h.jsxs)("div",{className:"price",children:["\u4ef7\u683c\uff1a",BigInt(e.sellPrice).toString()]}),Object(h.jsxs)("div",{className:"amount",children:["\u6570\u91cf\uff1a",BigInt(e.amount).toString()]}),Object(h.jsx)("button",{className:"button hover:bg-gray-700 hover:text-gray-200 border-2 border-solid border-gray-800 px-2 rounded-md mt-2",onClick:function(){return g(e)},children:" \u8d2d\u4e70 "}),Object(h.jsx)("span",{className:"ml-2",children:o})]},t)}))})]})}console.log(y);var O=c(5),v=c(13),S={sellerPrivKey:"",sudtCodeHash:"",amount:0,sellPrice:0};function H(){var e=Object(a.useState)(S),t=Object(i.a)(e,2),c=t[0],r=t[1],n=Object(a.useState)(""),s=Object(i.a)(n,2),l=s[0],o=s[1],f=function(){var e=Object(d.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(c.sellerPrivKey&&c.sudtCodeHash&&c.amount&&c.sellPrice)){e.next=8;break}return t={seller:Object(j.generateSecp256k1Blake160Address)(c.sellerPrivKey,{config:v}),sudt:{code_hash:c.sudtCodeHash,hash_type:"type",args:"0x"},amount:"0x".concat(BigInt(c.amount).toString(16)),sellPrice:"0x".concat(BigInt(c.sellPrice).toString(16))},e.next=4,u(t,c.sellerPrivKey);case 4:a=e.sent,o("Sell Success, tx hash is: ".concat(a)),e.next=9;break;case 8:o("Please fill in all fields");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x="mb-2 bg-green-700 bg-opacity-90 h-16 rounded-md shadow-lg border-2 border-solid border-gray-800 p-4";return Object(h.jsxs)("div",{className:"",children:[Object(h.jsx)("p",{className:"mt-8 h-16 text-3xl flex flex-row justify-center text-gray-200 items-center bg-green-900 bg-opacity-90",children:"Selling Your USDT"}),Object(h.jsxs)("div",{className:"bg-green-700 bg-opacity-90 p-8",children:[Object(h.jsxs)("div",{className:x,children:["private key: ",Object(h.jsx)("input",{className:"inline-block w-10/12 bg-gray-900 bg-opacity-40 text-gray-300",value:c.sellerPrivKey,onChange:function(e){return r(Object(O.a)(Object(O.a)({},c),{},{sellerPrivKey:e.target.value}))}})]}),Object(h.jsxs)("div",{className:x,children:["code hash: ",Object(h.jsx)("input",{className:"inline-block w-10/12 bg-gray-900 bg-opacity-40 text-gray-300",value:c.sudtCodeHash,onChange:function(e){return r(Object(O.a)(Object(O.a)({},c),{},{sudtCodeHash:e.target.value}))}})]}),Object(h.jsxs)("div",{className:x,children:["sell amount: ",Object(h.jsx)("input",{type:"number",className:"inline-block w-10/12 bg-gray-900 bg-opacity-40 text-gray-300",value:c.amount,onChange:function(e){return r(Object(O.a)(Object(O.a)({},c),{},{amount:e.target.value}))}})]}),Object(h.jsxs)("div",{className:x,children:["sell price: ",Object(h.jsx)("input",{type:"number",className:"inline-block w-10/12 bg-gray-900 bg-opacity-40 text-gray-300",value:c.sellPrice,onChange:function(e){return r(Object(O.a)(Object(O.a)({},c),{},{sellPrice:e.target.value}))}})]}),Object(h.jsxs)("div",{className:"mb-2 h-1 p-4",children:[Object(h.jsx)("button",{className:"button hover:bg-gray-700 hover:text-gray-200 border-2 border-solid border-gray-800 px-2 rounded-md mt-2",onClick:function(){return f()},children:" \u8d2d\u4e70 "}),Object(h.jsx)("span",{className:"ml-2",children:l})]})]})]})}var P=function(){var e=r.a.useState("0xb12c5d587aef846f2e6031d5c73d169db7e434441cfd11c185207d6b8b71aabb"),t=Object(i.a)(e,2),c=t[0],a=t[1];return Object(h.jsxs)("div",{className:"min-h-screen bg-gray-700 bg-opacity-0.9",children:[Object(h.jsx)("header",{className:"h-16 text-3xl flex flex-row justify-center text-gray-200 items-center bg-gray-500",children:"Selling Lock Demo"}),Object(h.jsx)("div",{className:"m-4 p-4 flex flex-row",children:Object(h.jsxs)("div",{className:"flex-grow",children:[Object(h.jsx)(m,{privKey:c,setPrivKey:a}),Object(h.jsx)(H,{})]})})]})},_=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,85)).then((function(t){var c=t.getCLS,a=t.getFID,r=t.getFCP,n=t.getLCP,s=t.getTTFB;c(e),a(e),r(e),n(e),s(e)}))};s.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(P,{})}),document.getElementById("root")),_()}},[[84,1,2]]]);
//# sourceMappingURL=main.95fc98cb.chunk.js.map